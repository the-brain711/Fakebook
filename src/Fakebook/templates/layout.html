{% extends "base.html" %}

{% block nav %}
<nav>
    <div class="container">
        <a href="{{ url_for('views.home') }}">
            <h2 class="logo">Fakebook</h2>
        </a>

        <div class="search-bar">
            <i class="uil uil-search"></i>
            <form action="{{ url_for('views.search_user') }}" method="get">
                <input type="search" name="searchbar" id="searchbar" placeholder="Search for users" maxlength="50"
                    required>
                <input type="submit" name="searchbar-submit" id="searchbar-submit" value="">
            </form>
        </div>

        <div class="user-profile">
            <img src="{{ url_for('static', filename='images/bulldog.png') }}" alt="Profile" id="profileImg"
                class="profile-img">

            <div id="profileOptions" class="profile-options">
                <a href="{{ url_for('views.profile') }}">View Profile</a>
                <!--<a href="path-to-notifications.html">Notifications</a> -->
                <!--<a href="path-to-account-details.html">Account Details</a> -->
                <!--<a href="path-to-bookmarks.html">Bookmarks</a> -->
                <!--<a href="{{ url_for('views.friends') }}">Friends</a> -->
                <!--<a href="path-to-display-settings.html">Display</a> -->
                <a href="{{ url_for('auth.logout') }}">Logout</a>
            </div>
        </div>
    </div>
</nav>
{% endblock %}

{% block left_sidebar %}
<div class="left">
    <a class="profile">
        <!---<div class="profile-photo">-->
        <div class="handle">
            <h4>{{ session["fullname"] }}</h4>
            <p class="text-muted">
                @{{ session["username"] }}
            </p>
        </div>
    </a>

    <div class="sidebar">
        <a class="menu-item" href="{{ url_for('views.home') }}">
            <span><i class="uil uil-home"></i></span>
            <h3>Home</h3>
        </a>

        <a class="menu-item" href="{{ url_for('views.friends') }}">
            <span><i class="uil uil-users-alt"></i></span>
            <h3>Friends</h3>
        </a>

        <a class="menu-item" href="{{ url_for('views.profile') }}">
            <span><i class="uil uil-user-circle"></i></span>
            <h3>Profile</h3>
        </a>
        <!--
        <a class="menu-item">
            <span><i class="uil uil-bell"></i></span><h3>Notifications</h3>
        </a>
        <a class="menu-item">
            <span><i class="uil uil-envelopes"></i></span><h3>Messages</h3>
        </a>
        <a class="menu-item">
            <span><i class="uil uil-bookmark"></i></span><h3>Saved</h3>
        </a>
        <a class="menu-item">
            <span><i class="uil uil-palette"></i></span><h3>Theme</h3>
        </a>
        Other shit that may or may not be added later.-->

        <!--<a class="menu-item">
            <span><i class="uil uil-setting"></i></span>
            <h3>Settings</h3>
        </a> -->

    </div>
    <!-- <label for="create-post" class="btn btn-primary">Create Post</label> -->
</div>
{% endblock %}

{% block content %}{% endblock %}

{% block right_sidebar %}
<div class="right">
    <!----->
    <!-- <div class="messages"> -->
    <!-- <div class="heading"> -->
    <!-- <h4>Messages</h4><i class="uil uil-envelopes"></i> -->
    <!-- </div> -->

    <!----Search again -->
    <!-- <div class="search-bar"> -->
    <!-- <i class="uil uil-search"></i> -->
    <!-- <input type="search" placeholder = "Filter through messages" id="message-search"> -->
    <!-- </div> -->
    <!-- </div> -->
    <!-- Requests section -->
    <div class="friend-requests">
        <h4>Friend Requests</h4>

        {% if friendrequests %}
        {% for request_id, request in friendrequests.items() %}
        <div class="request">
            <div class="info">
                <div>
                    <h5>{{ request['friend_accepter_username'] }}</h5>
                </div>
            </div>

            <div class="action">
                <!--Accept Friend Request-->
                <form action="{{ url_for('views.accept_friend_request') }}" method="post">
                    <input type="hidden" name="friend-id" id="friend-id" value="{{ request_id }}">
                    <input class="btn btn-primary" type="submit" name="accept-friend-request" id="accept-friend-request"
                        value="Accept">
                </form>

                <!--Decline Friend Request-->
                <form action="{{ url_for('views.decline_friend_request') }}" method="post">
                    <input type="hidden" name="friend-id" id="friend-id" value="{{ request_id }}">
                    <input class="btn" type="submit" name="decline-friend-request" id="decline-friend-request"
                        value="Decline">
                </form>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <h3>No Friend Requests...</h3>
        {% endif %}
    </div>
</div>
{% endblock %}