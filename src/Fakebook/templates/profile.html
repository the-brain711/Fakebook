{% extends 'layout.html' %}

{% block title %}Fakebook - Profile{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
{% endblock %}

{% block left_sidebar %}
{% endblock %}

{% block content %}
<div class="profile-container">
    <!--<img src="images/cover.png" class="cover-img"-->
    <div class="profile-header box grid-column-span-2">
        <section>
            <h3>{{ fullname }}</h3>
            <p class="text-muted">@{{ username }}</p>
            <p>Friends: {{ user['friends_list']['total_friends_count'] }}</p>
            <!---
            <img src="images/member-1.png">
            <img src="images/member-2.png">
            <img src="images/member-3.png">
            <img src="images/member-4.png">-->
        </section>

        {% if userid %}
        <section>
            <form action="{{ url_for('views.send_friend_request') }}" method="post">
                <input type="hidden" name="friend-id" id="friend-id" value="{{ userid }}">
                <input type="hidden" name="friend-username" id="friend-username" value="{{ username }}">
                <input type="submit" class="button" name="search-friends-submit" id="search-friends-submit"
                    value="Send Friend Request">
            </form>
        </section>
        {% endif %}
    </div>

    <div class="box" id="bio">
        <section>
            <h3>Bio</h3>
            <button class="button" onclick="EditBio()"><i class="uil uil-edit" id="bio-edit"></i></button>
        </section>

        <form action="{{ url_for('views.edit_bio') }}" method="post" autocomplete="on">
            <textarea rows="5" name="bio-textbox" id="bio-textbox" maxlength="500" required
                readonly>{{ user["bio"] }}</textarea>
            <input type="hidden" name="user-id" id="user-id" value="{{ user['user_id'] }}">
            <input type="submit" name="bio-submit" id="bio-submit" value="Save" hidden />
        </form>

        <!---
        <hr>
        <ul>
            <li><img src="images/profile-job.png"> Director at Tech for Mechs</li>
            <li><img src="images/profile-study.png"> Studied at Mississippi State University</li>
            <li><img src="images/profile-study.png"> Went to Clinton</li>
            <li><img src="images/profile-home.png"> Lives in Orlando, Florida</li>
            <li><img src="images/profile-location.png"> From Jackson, Mississippi</li>
        </ul>-->
    </div>

    <div class="box" id="profile-friends">
        <section id="profile-friends-header">
            <h3>Friends</h3>
            <p>Friends: {{ user['friends_list']['total_friends_count'] }}</p>
        </section>

        {% if user["friends_list"]["friends"] %}
        <section id="profile-friendslist">
            {% for friend_id, friend in user["friends_list"]["friends"].items() %}
            <div id="profile-friend-entry">
                <div>
                    <h3>{{ friend["friend_fullname"] }}</h3>
                    <p class="text-muted">@{{ friend["friend_username"] }}</p>
                </div>

                <form action="{{ url_for('views.profile') }}" method="get">
                    <input type="hidden" name="user-id" id="user-id" value="{{ friend['friend_id'] }}">
                    <input type="submit" class="button" name="view-profile" id="view-profile" value="View Profile">
                </form>
            </div>
            {% endfor %}
        </section>
        {% else %}
        <label>No Friends...</label>
        {% endif %}
    </div>

    <!--
        <div class="profile-intro">
            <div class="title-box">
                <h3>Photos</h3>
                <a href="">All Photos</a>
            </div>

            <div class="photo-box">
                <div><img src="images/photo1.png"></div>
                <div><img src="images/photo2.png"></div>
                <div><img src="images/photo3.png"></div>
                <div><img src="images/photo4.png"></div>
                <div><img src="images/photo5.png"></div>
                <div><img src="images/photo6.png"></div>
            </div>
        </div>-->

    <div class="box">
        <section class="profile-post-header">
            <h3>{{ fullname }}</h3>
            <p class="text-muted">@{{ username }}</p>
        </section>

        <textarea rows="3" placeholder="What's on your mind?"></textarea>
    </div>
</div>
{% endblock %}

{% block right_sidebar %}
{% endblock %}